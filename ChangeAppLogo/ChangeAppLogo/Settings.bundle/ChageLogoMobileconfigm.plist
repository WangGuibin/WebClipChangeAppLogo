<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>StringsTable</key>
	<string>detail</string>
	<key>PreferenceSpecifiers</key>
	<array>
		<dict>
			<key>Type</key>
			<string>PSGroupSpecifier</string>
			<key>Title</key>
			<string></string>
			<key>FooterText</key>
			<string>//
//  ChageLogoMobileconfig.m
//  ChangeAppLogo
//
//  Created by ç‹è´µå½¬ on 2020/11/28.
//

#import &quot;ChageLogoMobileconfig.h&quot;

@implementation ChageLogoMobileconfig
//NSString *iconText = [NSString stringWithFormat:@&quot;&lt;key&gt;Icon&lt;/key&gt;&lt;data&gt;%@&lt;/data&gt;&quot;,base64Img];
//if (!base64Img.length) {
//    iconText = @&quot;&quot;;
//}


/**
 
 ä»¥ä¸‹è¿™ç§æ–¹å¼ç±»ä¼¼äºæ¨¡æ¿,ä¿®æ”¹ä¸€äº›å‚æ•°,ç„¶åå†™æ–‡ä»¶~  é€›githubæ—¶å‘ç°ä¸€ä¸ªä»“åº“è²Œä¼¼æ˜¯å¤–å›½å‹äººç”¨SwiftUIå†™çš„ https://github.com/mamunul/WebClip ä»–æ˜¯ç›´æ¥ç”¨PropertyListEncoderå†™xmlæ–‡ä»¶æ„Ÿè§‰ä¸é‚£ä¹ˆå•°å—¦...ğŸ˜„ ç®—äº† ä¿ºä¹Ÿä¸æƒ³æ”¹äº† å°±è¿™å§~
 
&lt;dict&gt;
 //æ˜¯å¦å…¨å±
 &lt;key&gt;FullScreen&lt;/key&gt;
  &lt;true/&gt;
 //æ˜¯å¦ç§»é™¤
 &lt;key&gt;IsRemovable&lt;/key&gt;
 &lt;%@/&gt;
 
 %@ //å›¾æ ‡ iconText
 
 &lt;key&gt;Label&lt;/key&gt;
 &lt;string&gt;%@&lt;/string&gt;
 
 //æè¿°
 &lt;key&gt;PayloadDescription&lt;/key&gt;
 &lt;string&gt;é…ç½® Web Clip è®¾ç½®&lt;/string&gt;
 
 //åº”ç”¨æè¿°æ–‡ä»¶çš„åå­—
 &lt;key&gt;PayloadDisplayName&lt;/key&gt;
 &lt;string&gt;Web Clip&lt;/string&gt;
 
 //åº”ç”¨æè¿°å”¯ä¸€id åç¼€ä¸PayloadUUIDä¸€è‡´
 &lt;key&gt;PayloadIdentifier&lt;/key&gt;
 &lt;string&gt;com.apple.webClip.managed.xxx&lt;/string&gt;
 
 //ç±»å‹
 &lt;key&gt;PayloadType&lt;/key&gt;
 &lt;string&gt;com.apple.webClip.managed&lt;/string&gt;
 
 &lt;key&gt;PayloadUUID&lt;/key&gt;
 &lt;string&gt;UUID&lt;/string&gt;
 
 //ç‰ˆæœ¬
 &lt;key&gt;PayloadVersion&lt;/key&gt;
 &lt;real&gt;1&lt;/real&gt;
 
 //é¢„ç»„è£…?
 &lt;key&gt;Precomposed&lt;/key&gt;
 &lt;true/&gt;
 
 //å¯ä¸å¡« iOS14.4éœ€è¦å¡«å†™ é…åˆbundleIdæ‰èƒ½æ— ç¼è¿‡æ¸¡,è¿™ä¸ªURLåº”è¯¥æ˜¯appçš„universal link
 æˆ‘è¯•è¿‡å¡«å†™çš„ https://www.baidu.com é…åˆå¾®åšçš„bundleId ç»“æœæ‰“å¼€å¾®åšç„¶åå”¤èµ·webViewè·³è½¬äº†ç™¾åº¦~ ... åŒªå¤·æ‰€æ€...
 &lt;key&gt;URL&lt;/key&gt;
 &lt;string&gt;URL&lt;/string&gt;
 
 //bundleId å¿…å¡« ä¸ç„¶æ— æ³•æŒ‡å®šæ˜¯æ‰“å¼€å“ªä¸ªapp
 &lt;key&gt;TargetApplicationBundleIdentifier&lt;/key&gt;
 &lt;string&gt;%@&lt;/string&gt;
  
&lt;/dict&gt;

 ### æ›´æ–°äº2021å¹´6æœˆ11æ—¥ 20:45:06
 *******************************************************************************************
 æœ€è¿‘æ°å¥½å­¦äº†Vue å†™äº†ä¸€ä¸ªåœ¨çº¿å·¥å…·ç»ƒæ‰‹ ç»“åˆåœ¨çº¿å·¥å…·å¯ä»¥æ–¹ä¾¿è°ƒè¯• (ä¸éœ€è¦æ‰“åŒ…appè¿™ä¹ˆéº»çƒ¦,ä¹Ÿä¸éœ€è¦å»å†™æ·å¾„æŠ˜è…¾~)
 https://github.com/WangGuibin/webclicp-vue-app
 è‹¹æœæ·å¾„iOS14.3ä»¥ä¸Šå³å¯å®ç°æ¢å›¾æ ‡çš„åŠŸèƒ½ åªæ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨ä¼šå¼¹é€šçŸ¥æ ~ å°±è¿™~
*/


/// åˆ›å»ºä¸€ä¸ªåº”ç”¨çš„å±€éƒ¨æè¿°æ–‡ä»¶ä»£ç 
/// @param iconBase64 å›¾æ ‡base64
/// @param isRemoveFromDestop æ˜¯å¦ä»æ¡Œé¢ç§»é™¤
/// @param appName åº”ç”¨æ ‡é¢˜
/// @param uuid å”¯ä¸€æ ‡è¯†
/// @param bundleId åº”ç”¨å”¯ä¸€æ ‡è¯† å¿…é€‰
/// @param URL universal link æˆ–è€… URLScheme
+ (NSString *)createOneAppConfigWithIcon:(NSString *_Nullable)iconBase64
                          isRemoveFromDestop:(BOOL)isRemoveFromDestop
                                 appName:(NSString *)appName
                                    uuid:(NSString *)uuid
                                bundleId:(NSString *)bundleId
                                     URL:(NSString *_Nullable)URL
{
    NSString *iconText = [NSString stringWithFormat:@&quot;&lt;key&gt;Icon&lt;/key&gt;&lt;data&gt;%@&lt;/data&gt;&quot;,iconBase64];
    if (!iconBase64.length) {
        iconText = @&quot;&quot;;
    }
    
    if (URL.length) {
        URL = [NSString stringWithFormat:@&quot;&lt;key&gt;URL&lt;/key&gt;\n&lt;string&gt;%@&lt;/string&gt;\n&quot;,URL];
    }else{
        URL = @&quot;&quot;;
    }
        
    NSMutableString *strM = [NSMutableString string];
    [strM appendFormat:@&quot;&lt;dict&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;FullScreen&lt;/key&gt;&lt;true/&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;IsRemovable&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;%@/&gt;\n&quot;,isRemoveFromDestop?@&quot;true&quot;:@&quot;false&quot;];
    [strM appendFormat:@&quot;%@\n&quot;,iconText];
    [strM appendFormat:@&quot;&lt;key&gt;Label&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;%@&lt;/string&gt;\n&quot;,appName];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadDescription&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;é…ç½® Web Clip è®¾ç½®&lt;/string&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadDisplayName&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;Web Clip&lt;/string&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadIdentifier&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;com.apple.webClip.managed.%@&lt;/string&gt;\n&quot;,uuid];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadType&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;com.apple.webClip.managed&lt;/string&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadUUID&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;%@&lt;/string&gt;\n&quot;,uuid];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadVersion&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;real&gt;1&lt;/real&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;Precomposed&lt;/key&gt;&lt;true/&gt;\n%@&quot;,URL];
    [strM appendFormat:@&quot;&lt;key&gt;TargetApplicationBundleIdentifier&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;%@&lt;/string&gt;\n&quot;,bundleId];
    [strM appendFormat:@&quot;&lt;/dict&gt;\n&quot;];
//    NSLog(@&quot;%@&quot;,strM);
    return [strM copy];
}


/// æŠŠappçš„é…ç½®ç»„è£…æˆä¸€ä¸ªå®Œæ•´çš„WebClipæè¿°æ–‡ä»¶
/// @param configs appçš„æè¿°æ–‡ä»¶ä»£ç 
/// @param appSetName é›†åˆæè¿°æ–‡ä»¶çš„åå­— å¯é€‰
/// @param uuid å”¯ä¸€æ ‡è¯†
+ (NSString *)addConfigIntoGroupWithConfigs:(NSString *)configs
                                 appSetName:(NSString *_Nullable)appSetName
                                       uuid:(NSString *)uuid

{
    appSetName = appSetName?:@&quot;WebClipæè¿°æ–‡ä»¶&quot;;
    
    NSMutableString *strM = [NSMutableString string];
    [strM appendFormat:@&quot;&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;&lt;!DOCTYPE plist PUBLIC &apos;-//Apple//DTD PLIST 1.0//EN&apos; &apos;http://www.apple.com/DTDs/PropertyList-1.0.dtd&apos;&gt;&lt;plist version=&apos;1.0&apos;&gt;&lt;dict&gt;&lt;key&gt;PayloadContent&lt;/key&gt;&lt;array&gt;\n&quot;];
    [strM appendFormat:@&quot;%@\n&quot;,configs];
    [strM appendFormat:@&quot;&lt;/array&gt;&lt;key&gt;PayloadDisplayName&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;%@&lt;/string&gt;\n&quot;,appSetName];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadIdentifier&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;CoderWGB.%@&lt;/string&gt;\n&quot;,uuid];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadRemovalDisallowed&lt;/key&gt;&lt;false/&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadType&lt;/key&gt;&lt;string&gt;Configuration&lt;/string&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadUUID&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;string&gt;%@&lt;/string&gt;\n&quot;,uuid];
    [strM appendFormat:@&quot;&lt;key&gt;PayloadVersion&lt;/key&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;integer&gt;1&lt;/integer&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;/dict&gt;\n&quot;];
    [strM appendFormat:@&quot;&lt;/plist&gt;\n&quot;];
    NSLog(@&quot;%@&quot;,strM);
    return [strM copy];
}


@end
</string>
		</dict>
	</array>
</dict>
</plist>
